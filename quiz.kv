#: import Window kivy.core.window.Window


<AnswerButton>

    font_size: '20sp'
    halign: 'center'
    valign:'center'
    text_size: self.size

    size: self.size
    background_color: 0, 0 ,0, 0
    bg_color: rgba(0, 153, 0, 1)
    on_release: app.quiz(self.text, self)
    canvas.before:
        Color:
            rgb: root.bg_color
        RoundedRectangle:
            size: self.size
            pos: self.x, self.y + 5
            radius: [10]

MDScreen:
    question: question

    open_ayat2: open_ayat2

    name: 'quiz'

    BoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            title: "Quran Academy"
            use_overflow: True
            panel_color: app.theme_cls.primary_color
            overflow_cls: CustomOverFlowMenu()
            right_action_items:
                [
                ["home", lambda x: app.callback('main'), "Главная"],
    #                ["cogs", lambda x: app.callback('setting'), "Настройки"],
                ["star-crescent", lambda x: app.callback('select_ayats'), "Выбор айата"],
    #                ["message-reply", lambda x: app.callback(x), "авторы"],
                ]

        Widget:

    MDFloatLayout:
        md_bg_color:  1, 1, 0, 0
        Image:
            source: 'data/logo/koran-oboi.jpg'
            size: 1, 1
        MDGridLayout:
            rows: 3
            cols: 1
            size_hint: .6, .5
            pos_hint: {'center_x': .5, 'center_y': .5}
            spacing: 15


            MDLabel:
                id: open_ayat2
                text: ''
                font_size: '30sp'
                halign: 'center'
                pos_hint: {'center_x': .5, 'center_y': .9}
                color: 1, 1, 1, 1
                line_height: 1.1

            MDLabel:
                id: question
                text: ''
                font_size: '80sp'
                text_size: self.size
                font_name: "data/ttf/Noto_Naskh_Arabic/NotoNaskhArabic-VariableFont_wght.ttf"
                halign: 'center'
                color: 1, 1, 1, 1
                line_height: 1.1

            MDIconButton:
                icon: "pause-box"
                icon_size: 76
                halign: 'center'
                valign: 'center'
                pos_hint: {"center_x": .5, "center_y": .8}
                on_release: app.play_word()

        MDGridLayout:
            rows: 5
            cols: 2
            size_hint: .6, .5
            pos_hint: {'center_x': .5, 'center_y': .59}
            spacing: 15

            AnswerButton:
                id: answer1

            AnswerButton:
                id: answer2

            AnswerButton:
                id: answer3

            AnswerButton:
                id: answer4

            AnswerButton:
                id: answer5

            AnswerButton:
                id: answer6

        FloatLayout:
            Button:
                text: 'Следующий вопрос'
                font_size: '20sp'
                text_size: self.size
                halign: 'center'
                valign: 'center'
                size_hint: .25, .15
                pos_hint: {'center_x': .5, 'center_y': .2}
                color: rgba(25, 187, 29, 255)
                background_color:1, 0, 1, 0
                on_release:
                    app.next_question()
                canvas.before:
                    Color:
                        rgb: 1, 1, 1, 1
                    RoundedRectangle:
                        size: self.size
                        pos: self.x, self.y + 5
                        radius: [10]


                Button:
                    text: 'конец игры'
                    font_size: '20sp'
                    size_hint: .25, .15
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    background_color:2, 1, 1, 0
                    on_release:
                        app.final_score()

                    canvas.before:
                        Color:
                            rgb: rgba(251, 187, 29, 255)
                        RoundedRectangle:
                            size: self.size
                            pos: self.x, self.y + 5
                            radius: [10]

